server:
  port: 8080
  servlet:
    context-path: /api

spring:
  application:
    name: nocobase-server
  datasource:
    url: jdbc:postgresql://localhost:5432/nocobase
    username: nocobase
    password: nocobase_password
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
  data:
    redis:
      host: localhost
      port: 6379
      database: 0
      timeout: 5000ms
  servlet:
    multipart:
      enabled: true
      max-file-size: 100MB
      max-request-size: 100MB

# MyBatis-Flex Configuration
mybatis-flex:
  configuration:
    # Enable camel case to underscore conversion (e.g., userName -> user_name)
    map-underscore-to-camel-case: true
    # Enable lazy loading
    lazy-loading-enabled: true
    # Set aggressive lazy loading
    aggressive-lazy-loading: false
    # Enable cache
    cache-enabled: true
    # Log SQL statements
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl
  # Mapper XML locations
  mapper-locations: classpath*:/mapper/**/*.xml
  # Type aliases package
  type-aliases-package: com.nocobase.**.entity
  # Global configuration
  global-config:
    # Print banner
    print-banner: true

# SpringDoc OpenAPI Configuration
springdoc:
  api-docs:
    enabled: true
  swagger-ui:
    enabled: true
    path: /swagger-ui.html

logging:
  level:
    com.nocobase: DEBUG
    org.springframework.web: INFO
    com.mybatis-flex: DEBUG
